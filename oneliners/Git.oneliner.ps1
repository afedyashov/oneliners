$ErrorActionPreference="Stop";[System.Net.ServicePointManager]::SecurityProtocol = "Tls12";$url="https://github.com/git-for-windows/git/releases/download/v2.12.0.windows.1/Git-2.12.0-64-bit.exe";$outdir="$($env:USERPROFILE)\Downloads\Git";$outfile=[System.IO.Path]::Combine($outdir,(Split-Path -Leaf ([uri]::UnescapeDataString($url))));mkdir $outdir -Force|Out-Null;if(!(Test-Path $outfile)){$(New-Object Net.WebClient).DownloadFile($url, $outfile)};Start-Sleep -Seconds 2;if(!(Test-Path $outfile)){throw "Download Failed: $($url)"};$md5="CED52E70E5DE861D89A94034C3A53307";if ($md5 -and ($md5 -notlike (Get-FileHash $outfile -Algorithm MD5).Hash)) {throw "MD5 check failed!"};
